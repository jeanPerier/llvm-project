How to cherry-pick commits from llvm-project into f18-stage

Do once:
  git clone ssh://git@gitlab-master.nvidia.com:12051/fortran/f18-stage.git $DIRECTORY
  cd $DIRECTORY
  git remote add llvm-project https://github.com/llvm/llvm-project.git

For each round of cherry-picking:
  git fetch llvm-project # or git fetch --all
  git checkout $BRANCH

If you want to see which files have diverged:
  git diff --name-status refs/remotes/llvm-project/master HEAD -- flang

To look for changes to merge from LLVM to NVIDIA:
  git log ${LATEST_CHERRYPICK_COMMIT}..llvm-project/master -- flang >log.tmp
  $EDITOR log.tmp llvm-to-nvidia.txt

Look for new flang commits since the latest (top) entry in the log below.
Add them to the "Commits to be cherry-picked" list below
(or "Not cherry-picked" if you think they should not be).

For each commit that you want to pick:
  $EDITOR llvm-to-nvidia.txt
  git cherry-pick -x $COMMIT
  # If the commit modifies files outside f18 (e.g., llvm/* & mlir/*),
  # the cherry-pick will fail.  Use "git rm -r -f llvm" or "mlir"
  # to clean up, then "git cherry-pick --continue".

Build and test.  If successful, move the newly picked commits
to the "Log of cherry-picked commits" list below.
  $EDITOR llvm-to-nvidia.txt
  git add llvm-to-nvidia.txt
  git commit -m '...'
  git push

Create a merge request for your branch.

To see a description of a commit without its diff:
  git show -s $COMMIT

The out-of-tree build & test of these changes was conducted
with llvm-project c8b082a3abe44138fff4ef824300270dd6e8bc77

Log of cherry-picked commits in reverse order (latest first):
30db1776935ef921314937313fe9ec9dac48b693 Eric: Mangler module
93f602b339f62e058ce2c212c86f9f0ca3b20126 sameeran: google unittests
4741835e031b559f2effcad70f59e35c32c1eece Eric: fir.do_loop helper class
bb2f6f66c7f3189a3f9d2ea22ed9be6a3b8f5458 Pete: test for spec exprs
a0226f9bffa4c879ec7f8183738205661978cc39 no-op pmk: dodge bogus g++ 10.1 warning
70ad73b6b76838bd7c72123922102b175e5d478a sameeran: select type
8bba0bca721d66a63709d427ff1e3b48cf7c2cad Eric: complex expr helper class
a27d3852095a461b739da534ddc9abfb625f2e06 Tim: Type def'n name res. bug fix
bb73d1b278eb478ca8e56153cf1469bf7eb13a3f Isuru: Fix missing config.h
3862cbbc652be3dd731e75500f971e21d8355462 Isuru: "Use LLVM's flags"
4d8c00c0595b6998e41373afadaaca3f51ae2cf8 Pete: fix crash on erroneous exprs
1746c8ed2660c83895c79de94453f44f8e729a94 Pete: fix crash: forward-ref'd len
baa12ddb6fa6840c1125f0aa11cd0e05fe82385d Eric: type conversions
38674030c026b6ba432dc81440bd3790d94b7c48 Val C.: Better WAR for gcc warning
3d9bb031d13c884122a5da456659e47dd52ec1f7 Val C.: dodge buggy gcc warning
62b127eef6b37a57a647050b0e123f6ac928215f Jean: IsConstantExpr fix
70f1b4b4122088c1bd7324b519bc449dbfeaf298 Anchu: DATA statements
81bf1e29aae5992db318803ba4722a585ad64638 Truby: release build flags
ae6e499d258c24fde433d02793c327367c402d50 Eric: OpenMP lowering stubs
14f49599ccafc7e318fac609387c4dd68430925f no-op Tim: reduce dependencies
fbac9ce226d7a27e418fdeac72a0b3c9f2c48742 Eric: PFT
c4dbe59ae8253d73b63e5fcce0bc8bc44b4d07b5 Pete: declaring procedure entities
38095549c6a12a75794595464fa9b95f5c6dcf35 Pete: C751-C760 D/79798
b1ae13b4e9798ecfe8803513490b9034bda2e693 mlir build fix
4ead2cf76c4a1df260e7dff0fa767074bae6e2b8 mlir D/69940
85725a67c745cb833174a7eae2aa53e74753bcb1 clementval: openmp D/77821
661b234cbcfb0195fb998b86815e89895b38b88a mlir D/79517
6f300105d21e1f3bf7f0f92c2564c29f0cab8fb9 Tim: Fix IMPORT bug D/79737
99aa87a5b5371b3c06480e3ff99dcc4f2adf2c2a Tim: testing scripts D/79634
63a4fdda8c33174dc9fc80fed385df759abbf14f Fix build D/79723
b05c8c5756e473e9ec51ed65869f6ed42c552404 Tim: ass't conversions D/79637
332e6aea37a2777c06eb7d0960edf33b5869b0de sameeran: SELECT RANK D/78623
5eae715a3115be2640d0fd37d0bd4771abf2ab9b mlir D/79463
cc4768f2ec7ca1e6421c18afeface61376e9fab7 sameeran: documentation
7ccc7e56724974a27c8ada44f3cf0be0b5b1f4c2 Tim: fix IsDescriptor
54b35c066417d4856e9d53313f7e98b354274584 Tim: align -> alignment
07b69dcf66776a6a340c5b1b49ca8a36e712026d Pete: message edited again
cfce9b67609f4d2c91ac9c6ab51931769903a560 Pete: message edited
d5c05ced82ff698fad3da0537cf9b7cdb38dce85 no-op: Tim accessors
237d0e3c0416abf9919406bcc92874cfd15f5e0c no-op: Tim size/offset
0195b3a9098eba9349f4291606581669b2bef548 Tim fixes testing in standalone build
8d0c3c05f2f4b9e827eff98b7a375d174a163570 Pete: C741-C750
f432154d1bcfd61c9a8fcef9559917696fa09233 LLVM_LINK_COMPONENTS
1165a35a7312ccd723bbe3e5fe95cd3a3109ec66 IndexedAccessorRange
6fec2c4402ce34edc5c27202422007b12bb25797 no-op
b6f1bad630faa86104703f40c33a7653668e6a4a
d93ae65253e07fd8e96224620840e1ed144dc81f
7875362986fcdb40230b8a142e8288eeb6d547eb
0752d98ccf8771b41718170d46d11f4020b62818
bb1d976febf25e272a9f7ae51974207232481e3e
bc0342383dde329ab2bb07085900a533f0c053db
7c221a7d4fbce512656d9df202972230eb088f37
ed5363a6747b7e7914efa216b82438124587c862
3119bdb5d6955e85ddb45e9319608fa8a5915330
52492e6c430aa47836d28d7811961a1eb377ec49
75c31057a76228dea73aff100e7403c0e9a00c30
b547e1a4d163721b2dc3be869a3f06c6203217dc
807fe05d3531cae47d0c770b2d919f861bfe9235
3a1afd8c3d4bb5ded8262697c1aaebfd96e2a319
5339029ff79c0b6a501ef6bb7baeb07cb099f0b7
fc0262419a8647c44fe8712ee8e2d4de077f2bde
c353ebbfa4cb30a823fd850de97cb1ef559a05cc
4ced7a48e68a89257ee3c58a460d1bcdbf1e9447
9623003e9380e649bff0ebee3f11903ccf75af12
026d8807f439754d0ac8e600c1c40538b1a16f02
a6c1692cb30e62c94513c2c6262cd76df92ef892
0535fab2375ef71302bc0cf8e5d2ee3280b81f7d
c1c01212c49a0792c0594662db84be271e29cba6
2d6b9dbfef55364fc762682cd8ab93045582944a
29e71ceaee1a7a27d194100f0d94eb4d49496529
ebf190fcda0b8b4e9de405ba13ddbc679550644b
2f21a579665d44330b964cb47eece8bb9ab5a90c
d58a405de656e53424086aa4ab97db56d43deb36
ed6c452edc8121e18ec977a4ac93ab43d95fe78d
413467f9ec3d2e10585ddd171cb54114f97d01c8

Not cherry-picked:
9362698450d1843e7fde98d8012a7308244c2d79 Truby: change DIE to llvm_unreachable
89c7d9633b3f2255ed711522f29751566a6f5d70
a1726e65bc1fdbd2800839e48e68cb4a68cc7092
