How to cherry-pick commits from f18-stage to llvm-project

Do once:
  git clone https://github.com/llvm/llvm-project.git $DIRECTORY
  cd $DIRECTORY
  git remote add f18-stage ssh://git@gitlab-master.nvidia.com:12051/fortran/f18-stage.git


To look for changes to merge from NVIDIA to LLVM:
  git fetch f18-stage # or --all
  git log f18-stage/master >log.tmp
  $EDITOR log.tmp nvidia-to-llvm.txt
# Look for new commits, add to log below
# Ignore merge commits and changes to cherrypicking.txt.

For each change to merge:
  git checkout master
  git pull
  git checkout -b $BRANCH
  git -c merge.renameLimit=1 cherry-pick -n $COMMIT
  git commit
# build and test
  if arc works
  then arc diff
  else git diff master >mydiff
       # load into phabricator
       git commit --amend # add "Differential Revision: <url>"
  fi
# set Subscribers: flang-commits and Tags: #flang
# get it approved in phabricator
  if arc works
  then arc land --hold $BRANCH
       git commit --amend # clean up the commit message
       git show -s # get the new HEAD commit number as $AMENDEDHEAD
       git push -- origin $AMENDEDHEAD:master
  else git push -- origin $BRANCH:master
  fi
  git checkout master
  git pull
  git checkout $BRANCH
  git rebase -i master # ensure that changes are now "no-op"
  git checkout master
  git branch -D $BRANCH

To do (oldest last):

In review:
0e755edbc0eb29d98c6d2a069beb309921c79bfd DO CONCURRENT document

Done (oldest last, omitting no-ops):
2a0a8546ab20ae10aaa93d22064a7902fb3176fc Val: I/O vars must be definable
9a0729bef334363f4a3c8656e2c2322a7a3464ad better errors for bad chars
9c8a452a959ac8e192f8830e2424b6a6aefcb769 make TypeParamInquiry monomorphic
b96885a61ac50f28e8d226b68d5d2f72b763402c parse global compiler directives
bf0c51cda762f9230ae25b9560b09b79422839a8 don't left justify tokenization
a956f1d2e09dffc5468b7f68d5cf0898978008cc fix size in descriptor I/O
7ca7cb9cbbbfa38a2fd6c72b83f9f59bb02a044a shape(TRANSFER)
db41a84e6b0ddef75e823013174b1ea2be8f4612 fix mixed complex expressions
6d9cedd7031eddb0f1b04822953a52d5b54fd307 fix predefined macros
811fcb8af2dc46ca1861edc3f63d8a24c2cff677 PAD='YES' default
659ff2a3aac95903b83041f5738d8b902f2de88f Hollerith edge case
f769a9cd30a14f26e7cd830b3a4ccb018d88c321 Tim: fix warning in...
2a8050742abcbd4b849ce02c1b509b40d1dfbb07 DATA init with EQUIVALENCE
0a56419a5297ee1535fc776fe6fb2e31dbc10596 DATA init with Hollerith
80799e0ac6186955ab39ac98cd672c5990acea5c descriptor-based I/O
37414493d4e2fe6d191f9e02ab3628e30ca741e1 reformatting with latest clang-format
ad833c592eb0fb0b62556b3f046775226a086906 INQUIRE runtime
8b94d9abdfe47f39747e3c9dd965c35101775c9e defer "next input record" stuff
a1471e6303d8ef22afe4e81730e03c0e274dc453 file accessibility, size, positions
cf4f53ebf57e7f8085667f22720862fe1e7b0682 spaces in REAL input
da12a506b0c50d917cfa0ae75ba34825a3a1c602 remove RoundDefault enumerator
6cb7031500436edcf71db47499f41306994922ac pp tests (+ next)
1fd5e3377b1cfee4251d6321e50f9aec4a02cabd ... misplaced label check
64c63fc3bf2b22ea39731844990d342e0aabfe4f Allow no-comma FORMAT(1PE5.2)
a27b0abbeef9c2a4774a0050b6561be4a3624566 Add {Out,In}putComplex{32,64}
47215cfb52b6e09049029b9d8b5f41b565ae94c6 FORMAT reversion (2) +
226a109d9635290434e919a21bbe6d436bad480c FORMAT reversion (1)
fde8f0ea8a030fb509e627df9f97c3620931bb2a source continuation in macro calls
25d2c39f20e2f43ad156f9e8edcd84b9070a1979 byte-swapped unformatted I/O
68d420483aded068f6d96c6684aeb82240fd7d54 fix REAL formatted input case
1fd5e3377b1cfee4251d6321e50f9aec4a02cabd complain about misplaced labels
476ed2470cd9abd90972a7a7d1099a26ae8c6744 clean up STOP output
2fdc74ec2fef96dee8fdb3451b6e748da077147c fix Lw formatting
72461072df569694a33b3f1b41f9724fa16e457c fix bogus runtime error message
8a6a875d375d332843de6a083ebce423166e94c7 treat \t as ' ' in runtime input
c03be4e7414fff50d7c6cb7bac432f180f8a40b2 !DIR$ name=value
8548a3b66207186576883ad405b6cc0b804f92b4 allow comments on pp directives
63a783e08f79d606aebe510c60f4bab62438f763 rework r/w permissions on OPEN
16f03d4a4b778d13ebb28ddfb53045269c53a4a3 entries for scalar internal list IO
ce4dcd4ceb2ad77dc0bca991ad65c3f36231eadf fix fm923.f
499fdc0bfcd6d429ced29d629b09b9d08ea1f783 Anonymous external I/O units (fm401)
0917928b904cd7e63fc862901860dc3ce2d6971a Fix CR handling (fix) +
e25472e0d6bbe641a562927f53ef29c73c9d3673 ... fix CR handling (orig)
eb74a903396ff81dc23dcbd9c5dbc06dca528e86 Speed up real binary->dec
a52fdfdd9aebbefc61d3e664565ecc77322a47ac fix shared lib build
d95b91d77e1f40edfe7bf89eaea58fbe0744a39f fix unit number hash
60c58f58ba6048d0c1c5b1324d4b5bedc6dc9f73 Fix lowering bug #230
446c41b0c944fd9dff1d872c5c4459e8e9cbe53d Clean up runtime binary deps
9b8b332822221a409cc2e81b6fc3bd51a91cdb03 EQUIVALENCE fixes
acba890a16e6d2b26db1aefb5c17c9822f7ba26a Defer stmt func body analysis
dab72aa39d4c403adf4da5c819b32e4e9860c687 shape analysis of MATMUL
9ed81c9450a108357e21a0e82adca7070d6ddad1 fix F5.3 formatting of 0.025
831c6f18c405147ef36115e4239ce928ca78a165 DATA: processing & conversion to inits
008bd342b28bd46960b2214b58977f1bd4b473a0 DATA: remaining prep work
de3188d0c93ccf6850c0c9c0f7d21284ab30baeb DATA: initial images
7d8047a25f8bb2a07ba639d4d90caa11bb64bf42 DATA: designator folding
082c73c3467d7c02471fca9ec93167345c1856f0 roll-up small runtime fixes
21ea58e02d5aea966f5d393025d44d9ff56b0a95 fix osx build problems
049e7e5b79b357f3a4a24fbfdf2ce5d263f74ef2 + more CHARACTER runtime
cd2ce94f9c59d887ce84092d1eb970ade5fc32c4 Fix to IsDescriptor()
266e4b21f17b91d1a844ffa734af478df96d9038 Equivalence & common offsets
f5989ad96f2290e4d276a12c75591bb53be55b6c Add equivalence & common accessors
91585b69a235cc9cfe6bd7820544d2ea0b9b93a7 Fix x87 binary->decimal
baeff4139d3b6468790fb5ba999d74469d12f63d DATA statement rework
ed6d92af6bc65d917cd1243b314989a0017363d4 CHARACTER runtime

Not forwarded to LLVM:
6aa92cdec11af2369928e2bffda9401d5a1d8775 work around broken oot build
3216cf630345f4378783115b86cf89f68989091d Typed blobs
ab2dac0035620cf281871116cb5adeda49a26b52 fix build breakage
